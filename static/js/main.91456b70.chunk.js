(window["webpackJsonpregister-react"]=window["webpackJsonpregister-react"]||[]).push([[0],{38:function(e,t,a){e.exports=a(58)},56:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(20),c=a.n(s),l=a(18),o=a(22),i="UPDATE_NAVIGATION",u="SHOW_LOADING",m="UPDATE_LIST",p="SHOW_IN_LIST";function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={users:[],nroUsers:0},E=Object(o.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return f({},e,{path:t.path});case u:return f({},e,{loading:!0});case m:return f({},e,{users:t.users,nroUsers:t.nro,loading:!1});case p:return f({},e,{users:t.user,loading:!1});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),v=a(9),g=a(17),h=a(16),N=function(){return n.a.createElement("div",{className:"float-right ml-4 mt-1"},n.a.createElement("a",{className:"text-light p-3",href:"https://github.com/EdixonAlberto/register-react",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 499.36",role:"img",focusable:"false"},n.a.createElement("title",null,"GitHub"),n.a.createElement("path",{fill:"currentColor",d:"M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"}))))},O=Object(v.b)((function(e){return{path:e.path}}))((function(e){var t=e.path;return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top"},n.a.createElement("div",{className:"container"},n.a.createElement("span",{className:"navbar-brand"},"Registro de Usuarios"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"/"===t?"nav-bar active":""},n.a.createElement(g.b,{className:"nav-link",to:"/"},"Formulario")),n.a.createElement("li",{className:"/users"===t?"nav-bar active":""},n.a.createElement(g.b,{className:"nav-link",to:"/users"},"Lista")),n.a.createElement(N,null)))))})),y=a(2),x=a.n(y),w=a(7),j=a(11),k=a(12),S=a(14),L=a(13),C=a(15),I=a(36),P=a.n(I),_=function(e){return{type:"UPDATE_NAVIGATION",path:e}},D=function(e){return{type:"UPDATE_LIST",users:e,nro:e.length}},U=a(37),A=a.n(U);a(51),a(53);var T=A.a.initializeApp({apiKey:"AIzaSyCHcuRxgIH2wZs6rUGcgJGCgxylxC4XaFQ",databaseURL:"https://register-react.firebaseio.com"}).database(),V=function(){var e=Object(w.a)(x.a.mark((function e(){var t,a,r,n,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:[],e.prev=1,e.next=4,T.ref("users/").once("value");case 4:for(n in a=e.sent,r=a.val())t.push({id:n,data:r[n]});return e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(1),alert("Error al obtener usuarios: "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.ref("users/"+t.id).set(t.data);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert("Error al crear usuario: "+e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.ref("users/").child(t).remove();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert("Error al eliminar usuario: "+e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=function(e){function t(){var e;return Object(j.a)(this,t),(e=Object(S.a)(this,Object(L.a)(t).call(this))).componentDidMount=function(){return e.props.updateNavigation("/")},e.create=Object(w.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:P()(),data:e.state.user},e.setState({loading:!0}),t.next=4,H(a);case 4:e.setState({redirect:!0});case 5:case"end":return t.stop()}}),t)}))),e.resetForm=function(t){e.setState({user:{},error:!1}),t.classList.remove("was-validated"),t.reset()},e.change=function(t){var a=t.target,r=a.name,n=a.value;e.setState({user:R({},e.state.user,Object(l.a)({},r,n)),error:!1})},e.submit=function(t){t.preventDefault();var a=t.target,r=!0,n=!0,s=!1,c=void 0;try{for(var l,o=a.elements[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){if(""===l.value.value){r=!1;break}}}catch(i){s=!0,c=i}finally{try{n||null==o.return||o.return()}finally{if(s)throw c}}r?(e.create(),e.resetForm(a)):(e.setState({error:!0}),a.classList.add("was-validated"))},e.state={user:{},error:!1,loading:!1,redirect:!1},e}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:"container px-0 py-4"},this.state.redirect?n.a.createElement(h.a,{to:"/users"}):null,n.a.createElement("div",{className:"card border-success col-md-5 px-0 mx-auto"},n.a.createElement("h3",{className:"text-success text-center py-2"},"Formulario"),n.a.createElement("form",{className:"card-footer",noValidate:!0,autoComplete:"on",onSubmit:this.submit},n.a.createElement("div",{className:"text-center bg-danger rounded-lg mb-3 p-2",style:this.state.error?{}:{display:"none"}},n.a.createElement("span",{className:"text-white"},"Los campos con (*) son requeridos.")),n.a.createElement("div",{className:"form-row mb-3"},n.a.createElement("div",{className:"col"},n.a.createElement("strong",{className:"d-block text-dark mb-1"},"Nombre ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{className:"form-control",type:"text",name:"name",defaultValue:"",placeholder:"Nombre",required:!0,onChange:this.change})),n.a.createElement("div",{className:"col"},n.a.createElement("strong",{className:"d-block text-dark mb-1"},"Apellido ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{className:"form-control",type:"text",name:"lastname",defaultValue:"",placeholder:"Apellido",required:!0,onChange:this.change}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("strong",{className:"d-block text-dark mb-1"},"Edad ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{className:"form-control",type:"text",name:"age",defaultValue:"",placeholder:"Ingresa tu Edad",required:!0,onChange:this.change})),n.a.createElement("div",{className:"form-group"},n.a.createElement("strong",{className:"d-block text-dark mb-1"},"Sexo ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("select",{className:"custom-select",name:"sex",required:!0,onChange:this.change},n.a.createElement("option",{value:""},"Escojer..."),n.a.createElement("option",null,"Mujer"),n.a.createElement("option",null,"Hombre"),n.a.createElement("option",null,"Otro"),n.a.createElement("option",null,"Prefiero no decirlo"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("strong",{className:"d-block text-dark mb-1"},"Correo Electr\xf3nico ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{className:"form-control",type:"text",name:"email",defaultValue:"",placeholder:"Ingresa tu Correo Electr\xf3nico",required:!0,onChange:this.change})),n.a.createElement("div",{className:"form-group"},n.a.createElement("strong",{className:"d-block text-dark mb-1"},"Tel\xe9fono ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{className:"form-control",type:"text",name:"phone",defaultValue:"",placeholder:"Ingresa tu Tel\xe9fono",required:!0,onChange:this.change})),n.a.createElement("div",{className:"form-group"},n.a.createElement("strong",{className:"d-block text-dark mb-1"},"Pa\xeds ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("select",{className:"form-control",name:"country",required:!0,onChange:this.change},n.a.createElement("option",{value:""},"Escojer..."),n.a.createElement("option",null,"Venezuela"),n.a.createElement("option",null,"Colombia"),n.a.createElement("option",null,"Peru"),n.a.createElement("option",null,"Chile"))),n.a.createElement("div",{className:"d-flex justify-content-center pb-1"},n.a.createElement("button",{className:"btn btn-success px-4",name:"button",value:"empty",type:"submit"},n.a.createElement("span",{className:"font-white h5 px-3"},"Registrar"))),this.state.loading?n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"spinner-border text-success",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))):null)))}}]),t}(r.Component),W=Object(v.b)(null,(function(e){return{updateNavigation:function(t){e(_(t))}}}))(F),X=function(e){return n.a.createElement("div",{className:"float-left bg-dark rounded-lg p-2"},n.a.createElement("span",{className:"text-white mr-2"},"Usuarios"),n.a.createElement("span",{className:"badge badge-success"},e.nroUsers))},z=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(S.a)(this,Object(L.a)(t).call(this,e))).change=function(e){var t=e.target.value;""===t&&a.props.search("reset"),a.setState({email:t})},a.submit=function(e){e.preventDefault();var t=a.state.email;""!==t&&a.props.search(t)},a.state={email:""},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{className:"form-inline",onSubmit:this.submit},n.a.createElement("input",{className:"form-control mr-sm-2",type:"search",name:"email",defaultValue:"",placeholder:"Correo",onChange:this.change}),n.a.createElement("button",{className:"btn btn-success my-2",type:"submit"},"Buscar"))}}]),t}(r.Component),M=function(e){function t(){var e,a;Object(j.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(n)))).search=function(){var e=Object(w.a)(x.a.mark((function e(t){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.showLoading(),e.next=3,V();case 3:r=e.sent,"reset"===t?a.props.updateList(r):(n=r.findIndex((function(e){return e.data.email===t})))>=0?a.props.showInList(r[n]):(alert("Usuario no Encontrado"),a.props.updateList(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"row card-header mx-0"},n.a.createElement("div",{className:"col-md-8 mt-2"},n.a.createElement(X,{nroUsers:this.props.nroUsers})),n.a.createElement("div",{className:"col-md-4"},n.a.createElement(z,{search:this.search})))}}]),t}(r.Component),B=Object(v.b)((function(e){return{users:e.users,nroUsers:e.nroUsers}}),(function(e){return{updateList:function(t){e(D(t))},showInList:function(t){e(function(e){return{type:"SHOW_IN_LIST",user:[e]}}(t))},showLoading:function(){e({type:"SHOW_LOADING"})}}}))(M),J=function(e){return n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-header text-white bg-success"},n.a.createElement("h6",null,"".concat(e.user.name," ").concat(e.user.lastname))),n.a.createElement("div",{className:"card-body"},n.a.createElement("span",{className:"d-block"},n.a.createElement("b",null,"Edad:")," ",e.user.age),n.a.createElement("span",{className:"d-block"},n.a.createElement("b",null,"Sexo:")," ",e.user.sex),n.a.createElement("span",{className:"d-block"},n.a.createElement("b",null,"Correo:")," ",e.user.email),n.a.createElement("span",{className:"d-block"},n.a.createElement("b",null,"Telefono:")," ",e.user.phone),n.a.createElement("span",{className:"d-block"},n.a.createElement("b",null,"Pa\xeds:")," ",e.user.country)),n.a.createElement("div",{className:"card-footer"},n.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return e.destroy(e.userId)}},"Eliminar"))))},K=function(e){function t(){var e,a;Object(j.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=Object(w.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.updateNavigation("/users"),a.props.showloading(),e.next=4,V();case 4:t=e.sent,a.props.updateList(t);case 6:case"end":return e.stop()}}),e)}))),a.destroy=function(){var e=Object(w.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.confirm=window.confirm("Esta seguro de eliminar este usuario"),!a.confirm){e.next=8;break}return r=a.props.users.filter((function(e){return e.id!==t})),a.props.showloading(),e.next=6,q(t);case 6:a.props.updateList(r),alert("Usuario eliminado satisfactoriamente");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.list=function(){if(a.props.loading)return n.a.createElement("div",{className:"col-md-12 text-center"},n.a.createElement("div",{className:"spinner-border text-success",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")));var e=a.props.users;return e.length>0?e.map((function(e){return n.a.createElement(J,{key:e.id,userId:e.id,user:e.data,destroy:a.destroy})})):n.a.createElement("div",{className:"col-md-12"},n.a.createElement("div",{className:"text-center bg-danger rounded-lg p-2"},n.a.createElement("span",{className:"text-white"},"No existen usuarios registrados")))},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:"container px-0 py-4"},n.a.createElement("div",{className:"card border-success"},n.a.createElement("h3",{className:"text-success text-center py-2"},"Lista de Usuarios"),n.a.createElement("div",{className:"row card-body mx-0"},this.list())))}}]),t}(r.Component),Q=Object(v.b)((function(e){return{users:e.users,loading:e.loading}}),(function(e){return{updateNavigation:function(t){e(_(t))},updateList:function(t){e(D(t))},showloading:function(){e({type:"SHOW_LOADING"})}}}))(K);a(56),a(57);c.a.render(n.a.createElement(v.a,{store:E},n.a.createElement((function(){return n.a.createElement(g.a,{basename:"/register-react"},n.a.createElement(O,null),n.a.createElement(h.b,{exact:!0,path:"/",component:W}),n.a.createElement(h.b,{exact:!0,path:"/users",render:function(){return n.a.createElement("div",null,n.a.createElement(B,null),n.a.createElement(Q,null))}}),n.a.createElement(h.b,{render:function(){return n.a.createElement("div",null,"404 Not found")}}))}),null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.91456b70.chunk.js.map